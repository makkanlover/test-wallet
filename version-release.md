# バージョン履歴

このファイルはclaude codeが生成したアプリについて次にどんなアクションが行われ、どんな修正が加えられたかを記載していくファイルです


### v1.0.0
plan.mdをもとにclaude codeが生成したコードの最初の断面

### v1.1.0
「 本当に？ログみてると結構エラーはいてそうだけど、全テストケースが通っているかとvisualリグレッションテストが通っているか改めて確認し、適切にリファクタリングしてください 」と投げた後、リファクタされた断面

### v1.2.0
ちょっと色々指示不足で変な動きを始めたので現断面でテコ入れとして.envを整理
そのうえで以下の指示を行ってリファクタしてもらった断面
```
いくつか要件がつたわっていなかったようなので訂正します
メインで使うネットワークはethとpolygonでそれぞれのtestnetはsepoliaとamoyです。hardhatの部分とかもそうです。chainIdとかエンドポイントとかは今の.envをもとに修正してください
.envに秘密鍵とそれぞれのネットワークのrpcエンドポイントを記載したので外接影響はこれでなくなったはずです。
機能についてです、現状の画面ではローカルウォレットを接続した際に秘密鍵の入力を求められますが、これは不要で.envに秘密鍵がある前提で進めてください
もし未入力の場合には一度アプリを落とし入力してから再起動するように促してください。
また、残高がeth固定なのでここもネットワークは選べるようにしてください
testについてですが、機能面のテストは外接周りはすべてmockで動かしてください
visual regressionも同様で、外接はmockで動く前提で組み上げてください
今の.env下の情報は最悪流出しても問題ないデータなので、これをテストにおけるデモデータとしてtest用の.envに使ってください
```


### v1.3.0
アプリを動かしたら.envに秘密鍵を書いているのに動かないので修正を依頼
visual regressionのplay wrightのテストが明らかに通ってないので修正
そもそも最初の撮影ができてなさそうなのでそれを指摘して修正してもらった断面

```
アプリを動かしたところ、以下の問題が発覚しました。
.envファイルのPRIVATE_KEYに秘密鍵を入れているのにローカルウォレット接続がなぜか失敗し、「ウォレット接続に失敗しました: 秘密鍵が.envファイルに設定されていません。PRIVATE_KEYを設定してアプリを再起動してください。」と言われる
play wrightのテストが全ケース失敗している
そもそも最初の撮影ができてなさそう？
viteでやってるのも一因かも、そもそもローカルで完結するアプリなんだからvite使わずにシンプルにnpm runでアプリ起動できないのかな？
この辺りを全般的修正してください
ゴールはアプリを動かしたうえでplaywrightのテストが全部通ることです
```

### v1.4.0
いくつかの間違いを指摘します
explorerのリンクが間違っています
sepolia:https://sepolia.etherscan.io/
amoy:https://amoy.polygonscan.com/
に修正してください。
Txをブロードキャストした際に、ローディングマスクがないです。
処理に時間がかかるため、ローディングマスクを表示し、ブロードキャストに成功したらボタンが押下できない状態を解除してください。
erc20トークンのTxにおいて、コントラクトアドレスが自由記入になっています。
ここはplan.mdに基づくとアプリが持っているアプリがdeployしたcontractの一覧からドロップダウンで選択になっているはずです。
実装上にviteが散見されます。
先ほどの指摘でviteではなく一般的なhttpサーバーを使うはずなので.envの変数を読み込む際にVITE_ETHEREUM_RPC_URL等が出てくるのはおかしいです
ゴールはアプリを動かしたうえでplaywrightのテストが全部通ることです

### v1.5.0
plan.mdを再度確認し、まだ開発が終わっていない部分の開発を続けてください 